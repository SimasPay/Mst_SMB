{
    "ReportName" : "PartnersSettlementReport",
    
    "ReportHeaderText" : "Partners Settlement Report",
                            
    "ReportHeader" : [   
                           [ "Date Range From" , "${StartTime}", "To" , "${EndTime}" ],
   						   [ "Partner Code" , "${PartnerCode}"],
   						   [ "Settlement Status", "${SettlementStatus}"]
                     ],
    
    "ReportHeaderDataColumnsWidth" : [ 3,3,1,15	],
         
    "HeaderColumns" : [ "Settlement ID", 
    					"Partner Code",
    					"Total Amount",
    					"Total Charge",
    					"Total Paid Amount",
    					"Settlement Status", 
    					"Settlement Return Code", 
    					"Bank Account No", 
    					"Bank Code",
    					"Bank STAN", 
    					"Bank RRN", 
    					"Settlement Start Time",
    					"Settlement Completion Time"
    					],
    
    "HeaderColumnsWidth" : [2,2,2,2,2,2,2,2,2,2,2,3,3],

    "EncryptedColumnIndices" : [],
        
    "Query" : " SELECT
				     sctl.ID,
					 p.PartnerCode,
					 round(sctl.TransactionAmount-sctl.CalculatedCharge, 2),
				     round(sctl.CalculatedCharge, 2),
				     round(sctl.TransactionAmount, 2),
					 et1.EnumValue,
					 ct.NotificationCode,
					 ct.DestCardPAN,
					 ct.BankCode,
					 ct.BankSystemTraceAuditNumber,
				     ct.BankRetrievalReferenceNumber,
				     DATE_FORMAT(sctl.CreateTime, ${DateTimeFormat}),
					 DATE_FORMAT(sctl.LastUpdateTime, ${DateTimeFormat})
				FROM
				     enum_text et1, commodity_transfer ct 
					 INNER JOIN service_charge_txn_log sctl ON ct.ID = sctl.CommodityTransferID
					 INNER JOIN transaction_type tt ON tt.ID= sctl.TransactionTypeID
					 INNER JOIN subscriber_mdn sm ON sm.MDN = sctl.DestMDN
					 INNER JOIN subscriber s ON sm.subscriberID = s.ID
					 LEFT OUTER JOIN partner p on p.subscriberID = s.ID					 
				WHERE
					 et1.TagID=6089 AND sctl.status=et1.EnumCode
					 AND sctl.CreateTime >= ${StartTime}
					 AND sctl.CreateTime < ${EndTime}
					 AND tt.TransactionName in ('ChargeSettlement', 'settelment')
					 AND p.PartnerCode like ${PartnerCode} 
					 AND sctl.status like ${SettlementStatus} 
				ORDER BY
				     sctl.CreateTime ASC ",
    
    "ReportFooter" : [ 
                           [ "Report Generation Date" , "${ReportGenerationDate}", "Generated By" , "${UserName}" ]
                          ],
    
    "ReportFooterDataColumnsWidth" : [ 1,1,1,4],
        
    "PageSize" : "A3",

    "PageOrientation" : "landscape"
    
}