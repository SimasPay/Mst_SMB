{
    "ReportName" : "TransactionReport",
    
    "ReportHeaderText" : "Transaction Report",
                            
    "ReportHeader" : [   
                           [ "Date Range From" , "${StartTime}", "To" , "${EndTime}" ],
   						   [ "Biller Code" , "${BillerCode}"],   	
                           [ "Transaction Status", "${TransactionStatus}"]
                     ],
    
    "ReportHeaderDataColumnsWidth" : [ 2,2,1,2],
         
    "HeaderColumns" : [ "Reference ID", 
    					"Transaction Type", 
    					"Transaction Amount", 
    					"Charge From Source", 
    					"Status", 
    					"Status Reason",
    					"RC Code", 
    					"Transaction Time",
    					"SourceMDN",
						"SourcePocketType",
    					"Customer Name",
    					"CIF",    					
    					"Additional Info",
    					"Biller Info ",
    					"Integration RRN",    					
    					"Invoice No ", 
    					"Source Account", 
    					"Destination Account",  
    					"Destination Bank"
    					],
    
    "HeaderColumnsWidth" : [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],

    "EncryptedColumnIndices" : [17,18],
        
    "Query" : " SELECT 
					sctl.ID,
					tt.transactionname,
					sctl.TransactionAmount,
					round(sctl.CalculatedCharge, 2),
					et1.DisplayText,
					sctl.failurereason,
					COALESCE(ct.OperatorResponseCode||'', ct.bankrejectreason),
					TO_CHAR (FROM_TZ(CAST(sctl.CreateTime AS TIMESTAMP),'+00:00') AT TIME ZONE '$(TimeZone)',  'DD-MM-YYYY HH24:MI:SS'),
					sctl.SourceMDN,
					decode(ct.SourcePocketType,'1','e-Money','3','Bank','6','Laku Pandia'),
					s.firstname || ' ' || s.lastname,
					nvl(sm.applicationid, ' '),					
					sctl.Info1,
					sctl.MFSBillerCode,
					ct.BankRetrievalReferenceNumber,
					sctl.InvoiceNo,
					ct.SourceCardPAN,
					ct.DestCardPAN,
					Concat(ibt.DestBankCode,ibt.DestBankName)
				FROM 
					enum_text et1,enum_text et2, enum_text et3,
					service_charge_txn_log sctl
					JOIN Subscriber_mdn sm on sm.mdn=sctl.SourceMDN
					JOIN Subscriber s on s.id=sm.subscriberid					
					LEFT OUTER JOIN commodity_transfer ct on ct.TRANSACTIONID = sctl.TRANSACTIONID
					INNER JOIN pocket srcPocket ON ct.SourcePocketID = srcPocket.ID
					INNER JOIN pocket destPocket ON ct.DestPocketID = destPocket.ID
					INNER JOIN pocket_template destpkTemp ON destpkTemp.ID = destPocket.PocketTemplateId
					INNER JOIN pocket_template srcPkTemp ON srcPkTemp.ID = srcPocket.PocketTemplateId
					JOIN transaction_type tt on tt.ID=sctl.transactionTypeId
					LEFT OUTER JOIN interbank_transfers ibt on ibt.sctlid = sctl.id
				WHERE 
					sctl.TransactionTypeID= tt.ID
					AND et1.TagID=6089 AND sctl.status=et1.EnumCode
					AND et2.TagID=5051 AND destPocket.status=et2.EnumCode
					AND et3.TagID=5051 AND srcPocket.status=et3.EnumCode
					AND sctl.CreateTime >=${StartTime}
					AND sctl.CreateTime <= ${EndTime}
					AND (sctl.MFSBILLERCODE like ${BillerCode})
					AND sctl.status like ${TransactionStatus}
				Order by sctl.id;",
    
    "ReportFooter" : [ 
                           [ "Report Generation Date" , "${ReportGenerationDate}", "Generated By" , "${UserName}" ]
                          ],
    
    "ReportFooterDataColumnsWidth" : [ 2,2,1,2],
        
    "PageSize" : "A1",

    "PageOrientation" : "landscape"
    
}