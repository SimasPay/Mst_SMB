{
    "ReportName" : "OmnibusTransactionReport",
    
    "ReportHeaderText" : "Omnibus Transaction Report",
                            
    "ReportHeader" : [   
                           [ "Date Range From" , "${StartTime}", "To" , "${EndTime}" ],
                     ],
    
    "ReportHeaderDataColumnsWidth" : [ 3,3,1,5	],
         
    "HeaderColumns" : [ "Transaction Reference No", 
    					"Transaction Date",
    					"Description", 
    					"Transaction Code", 
    					"Detail",
    					"Debit Amount",
    					"Credit Amount"    					
    					],
    
    "HeaderColumnsWidth" : [3,2,3,2,3,2,2],

    "EncryptedColumnIndices" : [],
        
	    "Query" : " SELECT
						sctl.ID,
						DATE_FORMAT(sctl.CreateTime, ${DateTimeFormat}),
						tt.TransactionName,
						ct.OperatorRRN,
						sctl.DestMDN,
						CASE
							WHEN ct.sourcePocketID = ( SELECT parameterValue FROM system_parameters s WHERE parameterName = 'global.sva.pocket.id')  THEN round(sctl.TransactionAmount, 2)
							ELSE ''
						END,
						CASE
							WHEN ct.destPocketID = (SELECT parameterValue FROM system_parameters s WHERE parameterName = 'global.sva.pocket.id') THEN round(sctl.TransactionAmount, 2)
							ELSE ''
						END
					FROM
					    commodity_transfer ct
						INNER JOIN service_charge_txn_log sctl ON ct.ID = sctl.CommodityTransferID
						INNER JOIN transaction_type tt ON tt.ID= sctl.TransactionTypeID
					WHERE
						( ct.sourcePocketID = ( SELECT parameterValue FROM system_parameters s WHERE parameterName = 'global.sva.pocket.id') 
							OR ct.destPocketID = ( 	SELECT parameterValue FROM system_parameters s WHERE parameterName = 'global.sva.pocket.id') 
						)
						AND sctl.CreateTime >= ${StartTime}
						AND sctl.CreateTime < ${EndTime} ",
	    
    "ReportFooter" : [ 
                           [ "Report Generation Date" , "${ReportGenerationDate}", "Generated By" , "${UserName}" ]
                          ],
    
    "ReportFooterDataColumnsWidth" : [ 1,1,1,1 ],
        
    "PageSize" : "A4",

    "PageOrientation" : "portrait"
    
}