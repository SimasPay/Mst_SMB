-- Creates new Transaction type Donation under Wallet Service.
DELETE FROM service_transaction where serviceid=(select id from service where servicename='Wallet') and transactiontypeid=(select id from transaction_type where transactionname='Donation');

DELETE FROM transaction_type where TRANSACTIONNAME = 'Donation';

INSERT INTO transaction_type(VERSION, LASTUPDATETIME, UPDATEDBY, CREATETIME,CREATEDBY,MSPID,TRANSACTIONNAME,DISPLAYNAME) VALUES (1,now(),'System',now(),'System',1,'Donation','Donation');

INSERT INTO service_transaction(VERSION,LASTUPDATETIME,UPDATEDBY,CREATETIME,CREATEDBY,MSPID,SERVICEID,TRANSACTIONTYPEID) VALUES (1,now(),'System',now(),'System',1, (select id from service where SERVICENAME = 'Wallet'), (select id from transaction_type where TRANSACTIONNAME = 'Donation'));

-- Creates new system parameter for Donation Partner MDN
DELETE FROM system_parameters WHERE ParameterName='donation.partner.mdn';

INSERT INTO system_parameters (Version, LastUpdateTime, UpdatedBy, CreateTime, CreatedBy, ParameterName, ParameterValue, Description) VALUES (1,now(),'System',now(),'system','donation.partner.mdn','','MDN of the Partner to collect donations');


-- Notifications related to Donation transaction
DELETE FROM notification where Code=849;

-- English 849

INSERT INTO notification (LastUpdateTime,UpdatedBy,CreateTime,CreatedBy,Version,MSPID,Code,CodeName,NotificationMethod,Text,STKML,Language,Status,StatusTime,AccessCode,SMSNotificationCode,CompanyID, IsActive) VALUES (now(),"System",now(),"System",0,1,849,"DonationCompleteToSender",1,"Thank you for transferring $(Currency) $(Amount) as Donation to $(ReceiverTradeName) on $(TransactionDateTime). REF: $(TransactionID)",null,0,0,now(),null,null,1,1);
INSERT INTO notification (LastUpdateTime,UpdatedBy,CreateTime,CreatedBy,Version,MSPID,Code,CodeName,NotificationMethod,Text,STKML,Language,Status,StatusTime,AccessCode,SMSNotificationCode,CompanyID, IsActive) VALUES (now(),"System",now(),"System",0,1,849,"DonationCompleteToSender",2,"Thank you for transferring $(Currency) $(Amount) as Donation to $(ReceiverTradeName) on $(TransactionDateTime). REF: $(TransactionID)",null,0,0,now(),null,null,1,1);
INSERT INTO notification (LastUpdateTime,UpdatedBy,CreateTime,CreatedBy,Version,MSPID,Code,CodeName,NotificationMethod,Text,STKML,Language,Status,StatusTime,AccessCode,SMSNotificationCode,CompanyID, IsActive) VALUES (now(),"System",now(),"System",0,1,849,"DonationCompleteToSender",4,"Thank you for transferring $(Currency) $(Amount) as Donation to $(ReceiverTradeName) on $(TransactionDateTime). REF: $(TransactionID)",null,0,0,now(),null,null,1,1);
INSERT INTO notification (LastUpdateTime,UpdatedBy,CreateTime,CreatedBy,Version,MSPID,Code,CodeName,NotificationMethod,Text,STKML,Language,Status,StatusTime,AccessCode,SMSNotificationCode,CompanyID, IsActive) VALUES (now(),"System",now(),"System",0,1,849,"DonationCompleteToSender",8,"Thank you for transferring $(Currency) $(Amount) as Donation to $(ReceiverTradeName) on $(TransactionDateTime). REF: $(TransactionID)",null,0,0,now(),null,null,1,1);
INSERT INTO notification (LastUpdateTime,UpdatedBy,CreateTime,CreatedBy,Version,MSPID,Code,CodeName,NotificationMethod,Text,STKML,Language,Status,StatusTime,AccessCode,SMSNotificationCode,CompanyID, IsActive) VALUES (now(),"System",now(),"System",0,1,849,"DonationCompleteToSender",16,"Thank you for transferring $(Currency) $(Amount) as Donation to $(ReceiverTradeName) on $(TransactionDateTime). REF: $(TransactionID)",null,0,0,now(),null,null,1,1);

-- Bahasa 849

INSERT INTO notification (LastUpdateTime,UpdatedBy,CreateTime,CreatedBy,Version,MSPID,Code,CodeName,NotificationMethod,Text,STKML,Language,Status,StatusTime,AccessCode,SMSNotificationCode,CompanyID, IsActive) VALUES (now(),"System",now(),"System",0,1,849,"DonationCompleteToSender",1,"Terima kasih untuk mentransfer $(Currency) $(Amount) sebagai Donasi ke $(ReceiverTradeName) dari $(TransactionDateTime). REF: $(TransactionID)",null,1,0,now(),null,null,1,1);
INSERT INTO notification (LastUpdateTime,UpdatedBy,CreateTime,CreatedBy,Version,MSPID,Code,CodeName,NotificationMethod,Text,STKML,Language,Status,StatusTime,AccessCode,SMSNotificationCode,CompanyID, IsActive) VALUES (now(),"System",now(),"System",0,1,849,"DonationCompleteToSender",2,"Terima kasih untuk mentransfer $(Currency) $(Amount) sebagai Donasi ke $(ReceiverTradeName) dari $(TransactionDateTime). REF: $(TransactionID)",null,1,0,now(),null,null,1,1);
INSERT INTO notification (LastUpdateTime,UpdatedBy,CreateTime,CreatedBy,Version,MSPID,Code,CodeName,NotificationMethod,Text,STKML,Language,Status,StatusTime,AccessCode,SMSNotificationCode,CompanyID, IsActive) VALUES (now(),"System",now(),"System",0,1,849,"DonationCompleteToSender",4,"Terima kasih untuk mentransfer $(Currency) $(Amount) sebagai Donasi ke $(ReceiverTradeName) dari $(TransactionDateTime). REF: $(TransactionID)",null,1,0,now(),null,null,1,1);
INSERT INTO notification (LastUpdateTime,UpdatedBy,CreateTime,CreatedBy,Version,MSPID,Code,CodeName,NotificationMethod,Text,STKML,Language,Status,StatusTime,AccessCode,SMSNotificationCode,CompanyID, IsActive) VALUES (now(),"System",now(),"System",0,1,849,"DonationCompleteToSender",8,"Terima kasih untuk mentransfer $(Currency) $(Amount) sebagai Donasi ke $(ReceiverTradeName) dari $(TransactionDateTime). REF: $(TransactionID)",null,1,0,now(),null,null,1,1);
INSERT INTO notification (LastUpdateTime,UpdatedBy,CreateTime,CreatedBy,Version,MSPID,Code,CodeName,NotificationMethod,Text,STKML,Language,Status,StatusTime,AccessCode,SMSNotificationCode,CompanyID, IsActive) VALUES (now(),"System",now(),"System",0,1,849,"DonationCompleteToSender",16,"Terima kasih untuk mentransfer $(Currency) $(Amount) sebagai Donasi ke $(ReceiverTradeName) dari $(TransactionDateTime). REF: $(TransactionID)",null,1,0,now(),null,null,1,1);


DELETE FROM notification where Code=850;

-- English 850

INSERT INTO notification (LastUpdateTime,UpdatedBy,CreateTime,CreatedBy,Version,MSPID,Code,CodeName,NotificationMethod,Text,STKML,Language,Status,StatusTime,AccessCode,SMSNotificationCode,CompanyID, IsActive) VALUES (now(),"System",now(),"System",0,1,850,"DonationCompleteToReceiver",1,"You have received $(Currency) $(Amount) as donation from $(SenderMDN) $(SenderFirstName) $(SenderLastName) on $(TransactionDateTime). REF: $(TransactionID)",null,0,0,now(),null,null,1,0);
INSERT INTO notification (LastUpdateTime,UpdatedBy,CreateTime,CreatedBy,Version,MSPID,Code,CodeName,NotificationMethod,Text,STKML,Language,Status,StatusTime,AccessCode,SMSNotificationCode,CompanyID, IsActive) VALUES (now(),"System",now(),"System",0,1,850,"DonationCompleteToReceiver",2,"You have received $(Currency) $(Amount) as donation from $(SenderMDN) $(SenderFirstName) $(SenderLastName) on $(TransactionDateTime). REF: $(TransactionID)",null,0,0,now(),null,null,1,1);
INSERT INTO notification (LastUpdateTime,UpdatedBy,CreateTime,CreatedBy,Version,MSPID,Code,CodeName,NotificationMethod,Text,STKML,Language,Status,StatusTime,AccessCode,SMSNotificationCode,CompanyID, IsActive) VALUES (now(),"System",now(),"System",0,1,850,"DonationCompleteToReceiver",4,"You have received $(Currency) $(Amount) as donation from $(SenderMDN) $(SenderFirstName) $(SenderLastName) on $(TransactionDateTime). REF: $(TransactionID)",null,0,0,now(),null,null,1,1);
INSERT INTO notification (LastUpdateTime,UpdatedBy,CreateTime,CreatedBy,Version,MSPID,Code,CodeName,NotificationMethod,Text,STKML,Language,Status,StatusTime,AccessCode,SMSNotificationCode,CompanyID, IsActive) VALUES (now(),"System",now(),"System",0,1,850,"DonationCompleteToReceiver",8,"You have received $(Currency) $(Amount) as donation from $(SenderMDN) $(SenderFirstName) $(SenderLastName) on $(TransactionDateTime). REF: $(TransactionID)",null,0,0,now(),null,null,1,1);
INSERT INTO notification (LastUpdateTime,UpdatedBy,CreateTime,CreatedBy,Version,MSPID,Code,CodeName,NotificationMethod,Text,STKML,Language,Status,StatusTime,AccessCode,SMSNotificationCode,CompanyID, IsActive) VALUES (now(),"System",now(),"System",0,1,850,"DonationCompleteToReceiver",16,"You have received $(Currency) $(Amount) as donation from $(SenderMDN) $(SenderFirstName) $(SenderLastName) on $(TransactionDateTime). REF: $(TransactionID)",null,0,0,now(),null,null,1,1);

-- Bahasa 850

INSERT INTO notification (LastUpdateTime,UpdatedBy,CreateTime,CreatedBy,Version,MSPID,Code,CodeName,NotificationMethod,Text,STKML,Language,Status,StatusTime,AccessCode,SMSNotificationCode,CompanyID, IsActive) VALUES (now(),"System",now(),"System",0,1,850,"DonationCompleteToReceiver",1,"Anda telah menerima $(Currency) $(Amount) sebagai sumbangan dari $(SenderMDN) $(SenderFirstName) $(SenderLastName) dari $(TransactionDateTime). REF: $(TransactionID)",null,1,0,now(),null,null,1,0);
INSERT INTO notification (LastUpdateTime,UpdatedBy,CreateTime,CreatedBy,Version,MSPID,Code,CodeName,NotificationMethod,Text,STKML,Language,Status,StatusTime,AccessCode,SMSNotificationCode,CompanyID, IsActive) VALUES (now(),"System",now(),"System",0,1,850,"DonationCompleteToReceiver",2,"Anda telah menerima $(Currency) $(Amount) sebagai sumbangan dari $(SenderMDN) $(SenderFirstName) $(SenderLastName) dari $(TransactionDateTime). REF: $(TransactionID)",null,1,0,now(),null,null,1,1);
INSERT INTO notification (LastUpdateTime,UpdatedBy,CreateTime,CreatedBy,Version,MSPID,Code,CodeName,NotificationMethod,Text,STKML,Language,Status,StatusTime,AccessCode,SMSNotificationCode,CompanyID, IsActive) VALUES (now(),"System",now(),"System",0,1,850,"DonationCompleteToReceiver",4,"Anda telah menerima $(Currency) $(Amount) sebagai sumbangan dari $(SenderMDN) $(SenderFirstName) $(SenderLastName) dari $(TransactionDateTime). REF: $(TransactionID)",null,1,0,now(),null,null,1,1);
INSERT INTO notification (LastUpdateTime,UpdatedBy,CreateTime,CreatedBy,Version,MSPID,Code,CodeName,NotificationMethod,Text,STKML,Language,Status,StatusTime,AccessCode,SMSNotificationCode,CompanyID, IsActive) VALUES (now(),"System",now(),"System",0,1,850,"DonationCompleteToReceiver",8,"Anda telah menerima $(Currency) $(Amount) sebagai sumbangan dari $(SenderMDN) $(SenderFirstName) $(SenderLastName) dari $(TransactionDateTime). REF: $(TransactionID)",null,1,0,now(),null,null,1,1);
INSERT INTO notification (LastUpdateTime,UpdatedBy,CreateTime,CreatedBy,Version,MSPID,Code,CodeName,NotificationMethod,Text,STKML,Language,Status,StatusTime,AccessCode,SMSNotificationCode,CompanyID, IsActive) VALUES (now(),"System",now(),"System",0,1,850,"DonationCompleteToReceiver",16,"Anda telah menerima $(Currency) $(Amount) sebagai sumbangan dari $(SenderMDN) $(SenderFirstName) $(SenderLastName) dari $(TransactionDateTime). REF: $(TransactionID)",null,1,0,now(),null,null,1,1);
